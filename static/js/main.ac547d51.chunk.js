(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,n){t.exports=n(32)},25:function(t,e,n){},26:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"makePearlMetal",function(){return d}),n.d(a,"make",function(){return v});var r={};n.r(r),n.d(r,"makePoint",function(){return p}),n.d(r,"makeAmbient",function(){return g}),n.d(r,"make",function(){return j});var i,o=n(0),u=n.n(o),c=n(3),s=n.n(c),l=(n(25),n(1)),f=(n(26),n(2));function m(t,e){var n=(t.domElement.parentElement||t.domElement).getBoundingClientRect(),a=n.width,r=n.height;if(t.setSize(a,r),e instanceof f.f){var i=t.domElement.getBoundingClientRect(),o=i.width,u=i.height;e.aspect=o/u,e.updateProjectionMatrix()}}!function(t){t[t.WHITE=16777215]="WHITE",t[t.BLACK=0]="BLACK",t[t.ROSE=16746632]="ROSE",t[t.YELLOW=16776960]="YELLOW",t[t.CYAN_S=3407871]="CYAN_S",t[t.LIME=12320512]="LIME",t[t.CLOUD_WHITE=15663103]="CLOUD_WHITE"}(i||(i={}));var d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new f.e({color:i.WHITE,alphaMap:S.fromDimensions(1023,1,"RGBAAlternate"),alphaTest:.5,metalness:100,fog:!0,bumpMap:S.fromDimensions(2048,512),bumpScale:.008,displacementScale:.25,displacementBias:.1,clearCoat:1,clearCoatRoughness:.095,flatShading:t,side:f.c})},v={PearlMetal:function(){return d()},PearlMetalFlat:function(){return d(!0)}},b=n(6),h=n(4);function p(t,e,n){var a=Object(b.a)(f.g,[O(t)].concat(Object(h.a)(e)));return n&&a.position.fromArray(n),a}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return new f.a(O(t),e)}function O(t){switch(typeof t){case"undefined":return;case"number":return t;case"string":if("number"===typeof i[t])return i[t];default:return}}var j={Point:p,Ambient:g},E=function(t){return t-3},w={RGBANoise:function(){return function(t,e){return 255*(E(e)?1-Math.random():1)}},RGBAAlternate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=4<<-~Math.log2(t*e);return function(t,e){return E(e)?(~~(e/n)+(e>>2))%2*255:255}}};var S={FILL_GENERATORS:w,fromDimensions:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.RGBANoise,r="string"===typeof(e=a)?w[e]:e,i=function(t,e){var n=-~Math.log2(t*e);return new Uint8Array(4<<n)}(t,n).map(r(t,n)),o=new f.b(i,t,n,f.h);return o.needsUpdate=!0,Math.log2(t*n)%1||(o.wrapS=f.i,o.wrapT=f.i),o}},A=n(5);function P(){return new f.j}function y(t){var e=Object(o.useState)(function(){return function(t){var e=Object(A.a)({antialias:!0},t);return new f.l(e)}(t)}),n=Object(l.a)(e,1)[0];return[n,function(t){t(n)}]}function R(t){var e=Object(o.useState)(function(){return function(t){return Object(b.a)(f.f,Object(h.a)(t||[]))}(t)}),n=Object(l.a)(e,1)[0];return[n,function(t){t(n)}]}function k(t,e){var n=y(t),a=Object(l.a)(n,1)[0],r=R(e),u=Object(l.a)(r,1)[0],c=function(){var t=Object(o.useState)(P),e=Object(l.a)(t,1)[0];return[e,function(t){t(e)}]}(),s=Object(l.a)(c,1)[0];return Object(o.useEffect)(function(){if(null!==a)return a instanceof f.l?(a.shadowMap.enabled=!0,a.setClearColor(i.WHITE),a.setAnimationLoop(function(){a.render(s,u)}),function(){a.setAnimationLoop(null)}):void 0},[a,u,s]),[a,u,s,function(t){t(a,u,s)}]}var L=n(11),M=n(12),C=function(){function t(){Object(L.a)(this,t)}return Object(M.a)(t,null,[{key:"throttle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){"number"!==typeof n&&(n=setTimeout(function(){return n=null},e),t.apply(void 0,arguments))}}},{key:"debounce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];"number"===typeof n&&clearTimeout(n),n=setTimeout(function(){t.apply(void 0,r),n=null},e)}}},{key:"repeatTime",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return{start:function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];!function a(){e=setTimeout(a,n),t.apply(void 0,r)}()},stop:function(){clearTimeout(e)}}}},{key:"repeatAnimation",value:function(t){var e;return{start:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];!function n(){e=requestAnimationFrame(n),t.apply(void 0,a)}()},stop:function(){cancelAnimationFrame(e)}}}},{key:"biRandom",value:function(){return 2*Math.random()-1}}]),t}(),B=n(13);function T(){var t=Object(B.a)(["\nheight: calc(100vh - 100px);\nmax-width: 100%;\n"]);return T=function(){return t},t}var x=n(14).a.div(T()),I=n(17);var W={type:"number"},D={number:function(t){return Number(t)},text:function(t){return t}};function N(t,e){var n=Object(o.useState)(t),a=Object(l.a)(n,2),r=a[0],i=a[1],c=Object.assign({value:r.toString(),setValue:i},W,e);return[r,u.a.createElement(z,c)]}var z=function(t){var e=t.setValue,n=Object(I.a)(t,["setValue"]);return u.a.createElement("input",Object(A.a)({},n,{onChange:function(t){return e(function(t){var e=t.type;return D[void 0===e?"number":e]}(n)(t.target.value.toString()))}}))};function H(t){var e=k(),n=Object(l.a)(e,4),i=n[0],c=n[1],s=n[2],d=n[3],v=u.a.createRef(),b=Object(o.useState)(a.make.PearlMetal),h=Object(l.a)(b,1)[0];Object(o.useEffect)(function(){var t=C.repeatTime(function(){h.displacementScale+=Math.sin((Date.now()>>3)/64)/100},0);return t.start(),t.stop},[h]);var p=Object(o.useState)([0,0,0]),g=Object(l.a)(p,2),O=g[0],j=g[1];Object(o.useEffect)(function(){for(var e=new f.k(5,t.shapeParams.tubeDiameter/1e3,t.shapeParams.tubularSegmentsBase<<t.shapeParams.tubularSegmentsExp,t.shapeParams.radialSegments,t.shapeParams.axisRotations,t.shapeParams.tubeRotations),n=e.getAttribute("position").array,a=0;a<n.length;a+=6)n[a]=5*Math.sinh(n[a]/5),n[a+1]=5*Math.sinh(n[a+1]/5),n[a+2]=Math.sinh(n[a+2]);var r=new f.d(e,h);r.rotation.fromArray(O),r.castShadow=r.receiveShadow=!0,c.position.z=20,c.lookAt(r.position),s.add(r);var i=C.debounce(j,0),o=C.repeatAnimation(function(){r.rotation.x+=.01,r.rotation.y+=.01,r.rotation.z-=.01,i(r.rotation.toArray())});return o.start(),function(){o.stop(),s.remove(r)}},[t.shapeParams.tubeDiameter,t.shapeParams.tubularSegmentsExp,t.shapeParams.tubularSegmentsBase,t.shapeParams.radialSegments,t.shapeParams.axisRotations,t.shapeParams.tubeRotations]),Object(o.useEffect)(function(){var e=r.makePoint("ROSE",[1.4,0,1.2],t.lightParams.positions.slice(0,3));s.add(e);var n=r.makePoint("YELLOW",[1,0,2],t.lightParams.positions.slice(3,6));s.add(n);var a=r.makePoint("CYAN_S",[1,0,8],t.lightParams.positions.slice(6,9));s.add(a);var i=r.make.Ambient("LIME",.5);return s.add(i),function(){s.remove(e,n,a,i)}},[t.lightParams]),Object(o.useEffect)(function(){null!==v.current&&(null!==i&&v.current.appendChild(i.domElement))},[i,v]);var E=function(t){var e=Object(o.useState)(function(){return t.current?t.current.getBoundingClientRect():{width:-1,height:-1}}),n=Object(l.a)(e,2),a=n[0],r=a.width,i=a.height,u=n[1];return Object(o.useEffect)(function(){function e(){t.current&&u(t.current.getBoundingClientRect())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[t]),[r,i]}(v),w=Object(l.a)(E,2),S=w[0],A=w[1];return Object(o.useEffect)(function(){d(m)},[d,S,A]),u.a.createElement(x,{ref:v})}var Y=function(){var t=N(24),e=Object(l.a)(t,2),n=e[0],a=e[1],r=N(0),i=Object(l.a)(r,2),c=i[0],s=i[1],f=N(16),m=Object(l.a)(f,2),d=m[0],v=m[1],b=N(320),h=Object(l.a)(b,2),p=h[0],g=h[1],O=N(17),j=Object(l.a)(O,2),E=j[0],w=j[1],S=N(7),A=Object(l.a)(S,2),P=A[0],y=A[1],R=Object(o.useState)([0,2,3,-2,6,0,2,0,3]),k=Object(l.a)(R,2),L=k[0],M=k[1];return u.a.createElement("div",{className:"App"},u.a.createElement(H,{shapeParams:{tubularSegmentsExp:c,tubularSegmentsBase:n,radialSegments:d,axisRotations:E,tubeRotations:P,tubeDiameter:p},lightParams:{positions:L}}),u.a.createElement("button",{onClick:function(){M(L.map(function(){return 7*C.biRandom()}).slice())}},"Randomize Lights"),g,"/1000",a,"<<",s,v,w,y)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.ac547d51.chunk.js.map